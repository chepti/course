<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×ª×¨×©×™××™× - ×ª×¤×™×¡×” ×—×–×•×ª×™×ª</title>
    <style>
        #interactive-unit-container {
            --primary-color: #E74C3C; /* Red */
            --secondary-color: #34495e;
            --nav-width: 300px;
            --header-height: 60px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            direction: rtl;
        }

        #interactive-unit-container * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        #interactive-unit-container #nav {
            width: var(--nav-width);
            height: 100vh;
            background: #f8f9fa;
            padding: 30px;
            overflow-y: auto;
            position: sticky;
            top: 0;
            font-size: 1.1em;
            border-left: 1px solid #dee2e6;
            z-index: 1001;
            order: 1; /* Set nav to be the first item */
        }

        #interactive-unit-container .sidebar-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            color: var(--secondary-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }

        #interactive-unit-container #content {
            margin-right: var(--nav-width);
            padding: 40px;
            width: calc(100% - var(--nav-width));
            margin-top: 0; /* Remove margin-top as progress bar is gone */
            max-width: 1200px;
            order: 2; /* Set content to be the second item */
        }

        #interactive-unit-container .progress-bar {
            display: none;
        }

        #interactive-unit-container .progress-indicator {
            height: 10px;
            background: linear-gradient(to right, var(--primary-color), #27ae60);
            border-radius: 5px;
            transition: width 0.3s ease;
            width: 0;
        }

        #interactive-unit-container .nav-item {
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #interactive-unit-container .main-item, #interactive-unit-container .sub-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            border-radius: 25px;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        #interactive-unit-container .main-item {
            font-weight: bold;
            background: linear-gradient(45deg, #f3f4f6, #ffffff);
        }

        #interactive-unit-container .sub-item {
            margin: 8px 0;
            background: linear-gradient(45deg, #ffffff, #f8f9fa);
            border-width: 1px;
        }

        #interactive-unit-container .main-item:hover {
            background: linear-gradient(45deg, var(--primary-color), #27ae60);
            border-color: var(--primary-color);
            color: white;
            transform: translateX(-5px);
            box-shadow: 0 4px 12px rgba(46, 204, 113, 0.2);
        }

        #interactive-unit-container .sub-item:hover {
            background: linear-gradient(45deg, #edf7f0, #d5f5e3);
            border-color: var(--primary-color);
            transform: translateX(-5px);
            box-shadow: 0 2px 8px rgba(46, 204, 113, 0.1);
        }

        #interactive-unit-container .completion-circle {
            width: 24px;
            height: 24px;
            border: 2px solid #ccc;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background: white;
            flex-shrink: 0;
        }

        #interactive-unit-container .completed > .main-item,
        #interactive-unit-container .nav-item.completed > .sub-item {
            background: linear-gradient(45deg, var(--primary-color), #27ae60);
            border-color: var(--primary-color);
            color: white;
        }
        
        #interactive-unit-container .nav-item.completed > .sub-item {
           background: linear-gradient(45deg, #edf7f0, #d5f5e3);
           border-color: var(--primary-color);
           color: initial;
        }

        #interactive-unit-container .completed .completion-circle {
            background: white;
            border-color: white;
        }

        #interactive-unit-container .completed .completion-circle::after {
            content: "âœ“";
            color: var(--primary-color);
        }

        #interactive-unit-container .main-item:hover .completion-circle,
        #interactive-unit-container .sub-item:hover .completion-circle {
            border-color: white;
            transform: scale(1.1);
        }

        #interactive-unit-container .sub-items {
            margin-right: 34px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        #interactive-unit-container .sub-items.active {
            max-height: 500px;
        }

        #interactive-unit-container .video-container {
            margin: 30px 0;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            max-width: 800px;
        }

        #interactive-unit-container .video-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        #interactive-unit-container iframe {
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16/9;
            border: none;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        #interactive-unit-container .illustration {
            width: 100%;
            max-width: 600px;
            margin: 30px auto;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: block;
        }
        
        #interactive-unit-container .chip {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            background: linear-gradient(135deg, #3498db, #8e44ad);
            color: white !important;
            font-weight: bold;
            text-decoration: none;
            margin: 5px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        #interactive-unit-container .chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #2980b9, #7d3c98);
        }

        #interactive-unit-container .content-section {
            animation: fadeIn-scoped 0.5s ease-out;
            margin-bottom: 40px;
            line-height: 1.6;
        }
        
        #interactive-unit-container .content-section ul {
            padding-right: 20px;
            margin-bottom: 15px;
        }

        @keyframes fadeIn-scoped {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 800px) {
            #interactive-unit-container { display: block; }
            #interactive-unit-container #content { display: none; }
            #interactive-unit-container #nav { position: static; width: 100%; height: auto; padding: 10px; border-left: none; }
            #interactive-unit-container .progress-bar { right: 0; width: 100%; }
            #interactive-unit-container .sub-items { margin-right: 0; }
            #interactive-unit-container .sub-item { padding-right: 8px; padding-left: 8px; }

            #interactive-unit-container .section-wrapper {
                padding: 15px;
                background: #ffffff;
                border-top: 1px solid #e5e7eb;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.4s ease-in-out;
            }

            #interactive-unit-container .section-wrapper.active {
                max-height: 5000px;
            }

            #interactive-unit-container .sub-items.active {
                max-height: 5000px;
            }

            #interactive-unit-container .content-section {
                animation: none;
            }
        }
    </style>
</head>
<body>
<div id="interactive-unit-container">
    <div id="content">
        <div class="progress-bar">
            <div class="progress-indicator"></div>
        </div>
        <div id="content-area"></div>
    </div>

    <div id="nav">
        <div class="sidebar-title">×ª×¨×©×™××™× - ×ª×¤×™×¡×” ×—×–×•×ª×™×ª ğŸ“Š</div>
        
        <div class="nav-item">
            <div class="main-item" data-section="intro">
                <div class="completion-circle"></div>
                <span>×‘××‘×˜ ×¢×œ</span>
            </div>
        </div>
        <div class="nav-item">
            <div class="main-item" data-section="tools">
                <div class="completion-circle"></div>
                <span>×›×œ×™×</span>
            </div>
            <div class="sub-items">
                <div class="nav-item">
                    <div class="sub-item" data-section="presentations">
                        <div class="completion-circle"></div>
                        <span>××¦×’×•×ª</span>
                    </div>
                </div>
                <div class="nav-item">
                    <div class="sub-item" data-section="napkin">
                        <div class="completion-circle"></div>
                        <span>× ××¤×§×™×Ÿ</span>
                    </div>
                </div>
                <div class="nav-item">
                    <div class="sub-item" data-section="mermaid">
                        <div class="completion-circle"></div>
                        <span>××¨××™×™×“</span>
                    </div>
                </div>
                <div class="nav-item">
                    <div class="sub-item" data-section="miro">
                        <div class="completion-circle"></div>
                        <span>××™×¨×•</span>
                    </div>
                </div>
                <div class="nav-item">
                    <div class="sub-item" data-section="figma">
                        <div class="completion-circle"></div>
                        <span>×¤×™×’××”</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="nav-item">
            <div class="main-item" data-section="discussion">
                <div class="completion-circle"></div>
                <span>×“×™×•×Ÿ</span>
            </div>
        </div>
        <div class="nav-item">
            <div class="main-item" data-section="assignment">
                <div class="completion-circle"></div>
                <span>××©×™××”</span>
            </div>
        </div>
    </div>
</div>
    <script>
    (function() {
        function onReady(callback) {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', callback);
            } else {
                callback();
            }
        }

        onReady(() => {
            const container = document.querySelector('#interactive-unit-container');
            if (!container) { return; }

            const content = {
                'intro': `
                    <div class="content-section">
                        <h1>×ª×¨×©×™××™× - ×ª×¤×™×¡×” ×—×–×•×ª×™×ª</h1>
                        <p>××—×§×¨×™× ××¨××™× ×©×”××•×— ×™×›×•×œ ×œ×¢×‘×“ ××™×“×¢ ×—×–×•×ª×™ ××”×¨ ×•×‘×™×¢×™×œ×•×ª ×¨×‘×” ×™×•×ª×¨, ××” ×©×××¤×©×¨ ×œ×• ×œ×–×›×•×¨ ××™×“×¢ ×—×–×•×ª×™ ×‘×¦×•×¨×” ×˜×•×‘×” ×™×•×ª×¨ ××˜×§×¡×˜×•××œ×™.</p>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/n_KpDJg-MX8" allowfullscreen></iframe>
                        </div>
                        <div class="text-content">
                            <h4>××ª×™?</h4>
                            <ul>
                                <li>×›×“×™ ×œ×”××—×™×© ××•×©×’×™× ××•×¨×›×‘×™×: ×›××©×¨ ××ª×” ×¢×•×¡×§ ×‘× ×•×©××™× ×©×§×©×” ×œ×”×‘×™×Ÿ ××•×ª× ×‘××™×œ×™× ×‘×œ×‘×“, ×›××• ××¢×¨×›×•×ª ××•×¨×›×‘×•×ª, ×ª×”×œ×™×›×™× ×‘×™×•×œ×•×’×™×™× ××• ×¤×™×–×™×§×œ×™×™×.</li>
                                <li>×œ××™×“×” ×©×œ ×× ×©×™× ×‘×¢×œ×™ ×¡×’× ×•× ×•×ª ×œ××™×“×” ×©×•× ×™×: ×× ×©×™× ×œ×•××“×™× ×‘××•×¤× ×™× ×©×•× ×™×, ×•×•×™×–×•××œ×™×–×¦×™×” ×™×›×•×œ×” ×œ×¢×–×•×¨ ×œ××œ×• ×©××’×™×‘×™× ×˜×•×‘ ×™×•×ª×¨ ×œ××™×“×¢ ×—×–×•×ª×™.</li>
                                <li>×‘××¦×‘×™ ×”×•×¨××” ×•×”×“×¨×›×”: ×‘×”×¨×¦××•×ª, ×‘×›×™×ª×” ××• ×‘×—×•××¨×™ ×”×“×¨×›×”, ×™×™×¦×•×’ ×—×–×•×ª×™ ×™×›×•×œ ×œ×”×¤×•×š ××ª ×”×”×¡×‘×¨ ×œ×‘×¨×•×¨ ×•×××•×§×“ ×™×•×ª×¨.</li>
                                <li>×›×©××“×•×‘×¨ ×‘××™×“×¢ ×›××•×ª×™: ×’×¨×¤×™×, ×ª×¨×©×™××™× ×•××¤×•×ª ×™×›×•×œ×™× ×œ×”×¦×™×’ × ×ª×•× ×™× ×‘×¦×•×¨×” ××•×‘× ×ª ×•×××•×¨×’× ×ª, ××” ×©××§×œ ×¢×œ × ×™×ª×•×— ×•×¤×™×¨×•×© ×”××™×“×¢.</li>
                            </ul>
                        </div>
                        <h3>××¦×’×ª ××œ×•×•×”</h3>
                        <div style="position: relative; width: 100%; height: 0; padding-top: 56.2500%; padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden; border-radius: 8px; will-change: transform;">
                            <iframe loading="lazy" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;" src="https://www.canva.com/design/DAGaI5P-iXk/wO-hU5Ipjhip3UZW_k_zKQ/view?embed" allowfullscreen="allowfullscreen" allow="fullscreen"></iframe>
                        </div>
                        <a href="https://www.canva.com/design/DAGaI5P-iXk/wO-hU5Ipjhip3UZW_k_zKQ/view" target="_blank" class="chip">×¦×¤×™×™×” ×‘××¦×’×ª</a>
                    </div>`,
                'presentations': `
                    <div class="content-section">
                        <h1>××¦×’×•×ª</h1>
                        
                        <h3>××¦×’×ª ×‘×’×××”</h3>
                        <p>×’×××” ××¢×¦×‘ ×™×¤×”, ×ª×•××š ×”×™×˜×‘ ×‘×¢×‘×¨×™×ª ×•×‘×•× ×” ×©×§×¤×™× ××¢×•×¦×‘×™× ×‘×¦×•×¨×” × ×›×•× ×”.</p>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/Ar_OQUCsm0M" allowfullscreen></iframe>
                        </div>
                        <a href="https://gamma.app/signup?r=oszipoc7fjyif7w" target="_blank" class="chip">×§×™×©×•×¨ ×œ×›×œ×™: Gamma</a>
                        
                        <hr style="margin: 40px 0;">

                        <h3>××¦×’×ª ×‘×’'× ×¡×¤××¨×§</h3>
                        <p>×’'× ×¡×¤××¨×§ ×¢× ×§×¨×“×™×˜×™× ××ª×—×“×©×™× ×××¤×©×¨ ×™×¦×™×¨×ª ××¡××›×™× ×•××¦×’×•×ª, ×–×” ×œ×•×§×— ×œ×• ×–××Ÿ ×•×”×¢×™×¦×•×‘ ×œ× ×××•×“ ×—×–×§.</p>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/M2gNlRHKrQ0" allowfullscreen></iframe>
                        </div>
                        <a href="https://www.genspark.ai/agents" target="_blank" class="chip">×§×™×©×•×¨ ×œ×›×œ×™: Genspark</a>
                    </div>`,
                'napkin': `
                    <div class="content-section">
                        <h1>× ××¤×§×™×Ÿ</h1>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/FaL9tlsYDUw" allowfullscreen></iframe>
                        </div>
                        <p>× ××¤×§×™×Ÿ ×”×•× ×›×œ×™ ×¤×©×•×˜ ×•×™×¢×™×œ ×œ×™×¦×™×¨×ª ×ª×¨×©×™××™× ××”×™×¨×™×. ×”×•× ×××¤×©×¨ ×œ× ×• ×œ×¦×™×™×¨ ×ª×¨×©×™××™× ×‘×§×œ×•×ª ×•×‘××”×™×¨×•×ª, ×•×œ×©×ª×£ ××•×ª× ×¢× ××—×¨×™×.</p>
                        <h3>×˜×™×¤</h3>
                        <p>
                            ×›×“××™ ×œ×”×•×¨×™×“ ××ª ×”×ª×¨×©×™× ××ª×•×š × ××¤×§×™×Ÿ ×‘×¤×•×¨××˜ SVG, ×¢× ×¨×§×¢ ×©×§×•×£. ×›×š ×ª×•×›×œ×• ×œ×¢×¨×•×š ××ª ×”×ª×•×¦×¨ ×•×œ×©×œ×‘ ××•×ª×• ×˜×•×‘ ×™×•×ª×¨ ×‘×ª×•×š ××¦×’×•×ª ××—×¨×•×ª. ××¤×©×¨ ×œ×”×•×¡×™×£ SVG ×œ×ª×•×š ××¦×’×ª ×¤××•××¨×¤×•×™× ×˜, ×œ×¤×¨×§ ××•×ª×• ×œ×¨×›×™×‘×™× (×ª×‘× ×™×ª ×’×¨×¤×™×§×” > ×§×‘×¥ > ×¤×¨×§ ×§×‘×•×¦×”), ×•×›×š × ×™×ª×Ÿ ×œ×¢×¨×•×š ×›×œ ×—×œ×§ ×‘× ×¤×¨×“. ××¦×’×ª PPT ×›×–×• × ×™×ª×Ÿ ×œ×™×™×‘× ××œ ×ª×•×š ×§× ×‘×” ×œ××©×œ, ×•×œ×”××©×™×š ×œ×¢×¨×•×š ×©× ×’×•×¤× ×™×. ×–×” ××¡×•×¨×‘×œ ×§×¦×ª, ××‘×œ ×™××¤×©×¨ ×§×¦×ª ×™×•×ª×¨ ×”×ª×××” ×œ×¢×™×¦×•×‘ ×©×œ×›×.
                        </p>
                    </div>`,
                'mermaid': `
                    <div class="content-section">
                        <h1>××¨××™×™×“</h1>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/oJCzH_wTG5A" allowfullscreen></iframe>
                        </div>
                        <p>××¨××™×™×“ ×”×•× ×›×œ×™ ×œ×™×¦×™×¨×ª ×ª×¨×©×™××™× ×‘×××¦×¢×•×ª ×§×•×“. ×”×•× ×××¤×©×¨ ×œ× ×• ×œ×™×¦×•×¨ ×ª×¨×©×™××™ ×–×¨×™××”, ×“×™××’×¨××•×ª ×•×ª×¨×©×™××™× ××•×¨×›×‘×™× ×‘×¦×•×¨×” ××“×•×™×§×ª ×•××§×¦×•×¢×™×ª.</p>
                    </div>`,
                'miro': `
                    <div class="content-section">
                        <h1>××™×¨×• - ×—×©×‘×•×Ÿ ××•×¨×”</h1>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/waliB26DVbQ" allowfullscreen></iframe>
                        </div>
                        <p>××•×¨×™× ×™×›×•×œ×™× ×œ×¤× ×•×ª ×•×œ×‘×§×© ×—×©×‘×•×Ÿ ×—×™× ×•×š, ×•×œ×§×‘×œ ×œ×•×—×•×ª ××™×¨×• ×‘×œ×™ ×”×’×‘×œ×”. ××™×¨×• ×›×œ×™ × ×”×“×¨ ×•×’××™×© ×œ×¡×™×¢×•×¨ ××•×—×•×ª, ×œ××¨×’×•×Ÿ ×¨×¢×™×•× ×•×ª ×•×—×•××¨×™×. ×’×™×œ×™×ª×™ ×©×’× ×§×‘×¦×™× ×©×”×¢×œ×™×ª×™ ××•×¦×’×™× ×‘×• ×‘×¦×•×¨×” ×˜×•×‘×”.</p>
                        <p>××™×š? ×¢××•×“ ×”××—×™×¨×™×, ×œ×’×œ×•×œ ×œ×©××œ×” ×”××—×¨×•× ×”, ×•×œ××œ× ×˜×•×¤×¡. ×ª×•×š ×™×•××™×™× ×—×–×¨×• ××œ×™ ×¢× ×”××™×©×•×¨ - ×ª×”× ×•!</p>
                    </div>`,
                'figma': `
                    <div class="content-section">
                        <h1>×¤×™×’××”</h1>
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/ptoOmZnsFDM" allowfullscreen></iframe>
                        </div>
                        <p>×›×œ×™ ×œ×ª×›× ×•×Ÿ ××¤×œ×™×§×¦×™×•×ª ×•××ª×¨×™×, ×œ×¢×™×¦×•×‘ ×—×•×•×™×™×ª ××©×ª××© ×•× ×™×•×•×˜. ×›×œ×™ × ×•×¡×£ ×©×”× ××¦×™×¢×™× ×”×•× ×¤×™×’×’'×× FIGJAM - ×œ×•×— ×œ×‘×Ÿ ×œ×¡×™×¢×•×¨ ××•×—×•×ª ×•×©×™×ª×•×£ ×¤×¢×•×œ×”. ×¢×©×•×™ ×›×™×™×¤×™ ×•×–×•×¨× - ×•×’× ×”×•× ××›×™×œ AIâ€¦</p>
                    </div>`,
                'discussion': `
                    <div class="content-section">
                        <h1>×“×™×•×Ÿ</h1>
                        <p>××” ×”×”×‘×“×œ ×‘×™×Ÿ ×•×™×–×•××œ×™×” "××§×©×˜×ª" ×œ×•×™×–×•××œ×™×–×¦×™×” "××œ××“×ª"?</p>
                        <p>×—×©×‘×• ×¢×œ ×“×•×’×××•×ª ××”×©×˜×— - ××ª×™ ×ª××•× ×” ××• ××™×•×¨ ×‘×××ª ×ª×¨××• ×œ×”×‘× ×”, ×•××ª×™ ×”× ×”×™×• ×¨×§ ×§×™×©×•×˜?</p>
                        <img src="https://i.imgur.com/sdr7ZZI.jpg" alt="×•×™×–×•××œ×™×–×¦×™×” ××œ××“×ª" class="illustration">
                        <img src="https://i.imgur.com/iwvDa8d.jpg" alt="×ª×¨×©×™× ×–×¨×™××”" class="illustration">
                    </div>`,
                'assignment': `
                    <div class="content-section">
                        <h1>××©×™××”</h1>
                        <p>×‘×—×¨×• × ×•×©× ×œ×™××•×“×™ ×××ª×’×¨, ×¨×¢×™×•×Ÿ ×©×§×©×” ×œ×ª×¤×•×¡ ××•×ª×•. × ×¡×• ×œ×”×©×™×’ ×™×™×¦×•×’ ××•×¦×œ×— ×•××‘×”×™×¨ ×©×œ×• - ×‘×¢×–×¨×ª × ××¤×§×™×Ÿ ××• ××—×“ ×”×›×œ×™× ×”××—×¨×™× ×©×œ××“× ×•. ×”×“×‘×™×§×• ×¦×™×œ×•××¡×š ×©×œ ×”×ª×•×¦×¨.</p>
                        <p>×—×©×•×‘ ×œ×”×¡×‘×™×¨: ××” ×”×™×” ×××ª×’×¨ ×‘× ×•×©×? ××™×š ×”×•×™×–×•××œ×™×–×¦×™×” ×¢×•×–×¨×ª ×œ×”×‘×™×Ÿ ××•×ª×• ×˜×•×‘ ×™×•×ª×¨?</p>
                        <img src="https://i.imgur.com/s5Gn2mX.jpg" alt="×“×•×’×× ×œ×ª×¨×©×™×" class="illustration">
                        <img src="https://i.imgur.com/p9rLcJx.jpg" alt="×ª×›× ×•×Ÿ ×—×–×•×ª×™" class="illustration">
                    </div>`
            };

            let isMobileView = window.innerWidth <= 800;
            const timers = {};
            const contentArea = container.querySelector('#content-area');
            const progressIndicator = container.querySelector('.progress-indicator');

            function updateProgress() {
                const allItems = container.querySelectorAll('.main-item, .sub-item');
                const completedItems = container.querySelectorAll('.nav-item.completed');
                const percentage = allItems.length > 0 ? (completedItems.length / allItems.length) * 100 : 0;
                if(progressIndicator) progressIndicator.style.width = `${percentage}%`;
            }

            function setItemCompleted(item) {
                const navItem = item.closest('.nav-item');
                const section = item.dataset.section;
                if (!navItem.classList.contains('completed')) {
                    clearTimeout(timers[section]);
                    timers[section] = setTimeout(() => {
                        navItem.classList.add('completed');
                        updateProgress();
                    }, 10000); 
                }
            }

            function handleMainItemClick(e) {
                const mainItem = e.currentTarget;
                const navItem = mainItem.closest('.nav-item');
                const section = mainItem.dataset.section;
                const subItemsContainer = navItem.querySelector('.sub-items');

                if (subItemsContainer) {
                    subItemsContainer.classList.toggle('active');
                }

                if (content[section]) {
                    const contentHTML = content[section];
                    if (isMobileView) {
                        let wrapper = navItem.querySelector(':scope > .section-wrapper');
                        if (!wrapper) {
                            wrapper = document.createElement('div');
                            wrapper.className = 'section-wrapper';
                            navItem.appendChild(wrapper);
                        }
                        
                        const shouldShow = !wrapper.classList.contains('active');
                        
                        container.querySelectorAll('.section-wrapper.active').forEach(w => {
                            if (w !== wrapper) w.classList.remove('active');
                        });

                        wrapper.innerHTML = contentHTML;
                        
                        if(shouldShow) {
                            setTimeout(() => wrapper.classList.add('active'), 10);
                        } else {
                            wrapper.classList.remove('active');
                        }
                    } else {
                        if(contentArea) contentArea.innerHTML = contentHTML;
                    }
                }

                if (content[section]) {
                    setItemCompleted(mainItem);
                }
            }
            
            function handleSubItemClick(e) {
                e.stopPropagation();
                const subItem = e.currentTarget;
                const section = subItem.dataset.section;
                const mainNavItem = subItem.closest('.sub-items').closest('.nav-item');
                const contentHTML = content[section];

                if (isMobileView) {
                    let wrapper = mainNavItem.querySelector(':scope > .section-wrapper');
                    if (!wrapper) {
                        wrapper = document.createElement('div');
                        wrapper.className = 'section-wrapper';
                        mainNavItem.appendChild(wrapper);
                    }
                    const shouldShow = !wrapper.classList.contains('active');

                    container.querySelectorAll('.section-wrapper.active').forEach(w => {
                        if (w !== wrapper) w.classList.remove('active');
                    });
                    
                    wrapper.innerHTML = contentHTML;

                    if (shouldShow) {
                         setTimeout(() => wrapper.classList.add('active'), 10);
                    } else {
                        wrapper.classList.remove('active');
                    }
                } else {
                    if(contentArea) contentArea.innerHTML = contentHTML;
                }
                setItemCompleted(subItem);
            }
            
            function initializeView() {
                container.querySelectorAll('.main-item').forEach(header => header.addEventListener('click', handleMainItemClick));
                container.querySelectorAll('.sub-item').forEach(header => header.addEventListener('click', handleSubItemClick));

                if (!isMobileView) {
                    const introItem = container.querySelector('.main-item[data-section="intro"]');
                    if(introItem) introItem.click();
                }
            }
            
            function handleResize() {
                const newIsMobile = window.innerWidth <= 800;
                if(newIsMobile !== isMobileView) {
                    isMobileView = newIsMobile;
                    container.querySelectorAll('.section-wrapper').forEach(w => w.remove());
                    if(contentArea) contentArea.innerHTML = '';
                    initializeView();
                }
            }

            initializeView();
            window.addEventListener('resize', handleResize);
        });
    })();
    </script>
</body>
</html> 